二分

利用*单调性*每次排除一半的答案，缩小查找范围。找到*单调性*很重要。

*理解循环不变量*很重要。

*唯心主义*
区间内大小关系未确定，区间外都是已经确定大小了的。搜索区间之应该包括未确定的位置，已经确定了的位置就无需搜索了（减少特判）
> 关键不在于区间里的元素具有什么性质，而是区间外面的元素具有什么性质。

很多语言的标准库都采用左闭右开区间的写法，例如 Python Go Rust 等。

```c++
class BinarySearch {
public:
    // 二分，找到第一个 >= target的位置
    // 闭区间写法[l,r]
    // *第一个>=target的位置
    // 四种可以相互转换(整数)
    // 最后一个<target的位置 binarySearch2(>=target) - 1
    // 第一个>target的位置 binarySearch2(>=target+1)
    // 最后一个<=target的位置, 转换成binarySearch(>target) - 1, binarySearch2(>=target+1) - 1
    int binarySearch2(vector<int> nums, int target) {
        int n = nums.size();
        int l = 0;
        int r = n - 1;
        while (l <= r) { //最后一次循环
            int m = ((r - l) >> 1) + l;
            if (target > nums[m]) {
                l = m + 1; //[l-1]一定小于target
            } else {
                r = m - 1; //[r+1]一定大于等于target
            }
        }
        // 循环结束r+1=l
        // r表示最后一个小于target的位置，l表示第一个大于等于target的位置
        return l; // 返回第一个大于等于target的位置
    }
};
```

分为闭区间，半开半闭，开区间四种写法。开闭区间和l和r移动相关

经典：有序数组查找target

`std::lower_bound` && `std::upper_bound`

二分答案法

1. 估计。最终答案可能的范围 是什么，可以定的粗略，反正二分不了几次

2. 分析问题的答案和给定条件之间的单调性，大部分时候只需要用到自然智慧

3. 建立一个f函数,当答案固定的情况下,判断给定的条件是否达标

4. 在最终答案可能的范围上不断二分搜索，每次用f函数判断，直到二分结束，找到最合适的答案

f函数，用条件确定时用中间值m进行判断，排除一半的答案。

题目
34
35
875
410
162
153
33
74 二维数组二分

274，275 理解循环不变量

//TODO @date 2023-10-18

1201
878


---

二分答案 · 题单（右边数字为难度分）

二分答案

- 1283. 使结果不超过阈值的最小除数 1542
- 2187. 完成旅途的最少时间 1641
- 2226. 每个小孩最多能分到多少糖果 1646
- 1870. 准时到达的列车最小时速 1676
- 1011. 在 D 天内送达包裹的能力 1725
- 875. 爱吃香蕉的珂珂 1766
- 1898. 可移除字符的最大数目 1913
- 1482. 制作 m 束花所需的最少天数 1946
- 1642. 可以到达的最远建筑 1962
- 2258. 逃离火灾 2347

最小化最大值

- 2064. 分配给商店的最多商品的最小值 1886
- 1760. 袋子里最少数目的球 1940
- 2439. 最小化数组中的最大值 1965
- 2560. 打家劫舍 IV 2081
- 778. 水位上升的泳池中游泳 2097（相当于最小化路径最大值）
- 2616. 最小化数对的最大差值 2155
- 2513. 最小化两个数组中的最大值 2302

最大化最小值

- 1552. 两球之间的磁力 1920
- 2861. 最大合金数 1981
- 2517. 礼盒的最大甜蜜度 2021
- 2812. 找出最安全路径 2154
- 2528. 最大化城市的最小供电站数目 2236

第 K 小/大（部分题目也可以用堆解决）

- 378. 有序矩阵中第 K 小的元素
- 373. 查找和最小的 K 对数字
- 719. 找出第 K 小的数对距离
- 1439. 有序矩阵中的第 k 个最小数组和 2134
- 786. 第 K 个最小的素数分数 2169
- 2040. 两个有序数组的第 K 小乘积 2518
- 2386. 找出数组的第 K 大和 2648

